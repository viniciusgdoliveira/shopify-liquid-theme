{%- comment -%}
  CSS Variables Mapping - Global Settings to CSS Custom Properties
  This snippet maps theme settings to CSS variables for consistent styling
{%- endcomment -%}

<style>
  :root {
    /* Global Cart Settings */
    --cart-bg-color: {{ settings.cart_background_color | default: '#ffffff' }};
    --cart-text-color: {{ settings.cart_text_color | default: '#000000' }};
    --cart-button-color: {{ settings.cart_button_color | default: '#2d5016' }};
    --cart-button-hover-color: {{ settings.cart_button_hover_color | default: '#1a2e0a' }};
    
    /* Typography Settings */
    --type-primary-font: {{ settings.type_primary_font.family | default: 'work_sans' }};
    --type-secondary-font: {{ settings.type_secondary_font.family | default: 'work_sans' }};
    
    /* Font Size Overrides from Settings */
    --font-size-xs: {{ settings.font_size_xs | default: 12 }}px;
    --font-size-sm: {{ settings.font_size_sm | default: 14 }}px;
    --font-size-base: {{ settings.font_size_base | default: 16 }}px;
    --font-size-lg: {{ settings.font_size_lg | default: 18 }}px;
    --font-size-xl: {{ settings.font_size_xl | default: 20 }}px;
    --font-size-2xl: {{ settings.font_size_2xl | default: 24 }}px;
    --font-size-3xl: {{ settings.font_size_3xl | default: 30 }}px;
    --font-size-4xl: {{ settings.font_size_4xl | default: 36 }}px;
    --font-size-5xl: {{ settings.font_size_5xl | default: 48 }}px;
    --font-size-6xl: {{ settings.font_size_6xl | default: 60 }}px;
    --font-size-7xl: {{ settings.font_size_7xl | default: 72 }}px;
    
    /* Color Overrides from Settings */
    --color-background: {{ settings.background_color | default: '#ffffff' }};
    --color-text-primary: {{ settings.text_color | default: '#000000' }};
    --color-primary: {{ settings.primary_color | default: '#2d5016' }};
    --color-secondary: {{ settings.secondary_color | default: '#6c6c6c' }};
    --color-accent: {{ settings.accent_color | default: '#28a745' }};
    
    /* Spacing Overrides */
    --space-base: {{ settings.spacing_base | default: 16 }}px;
    --container-width-override: {{ settings.container_width_override | default: 1200 }}px;
    
    /* Search Settings */
    --search-results-per-page: {{ settings.search_results_per_page | default: 24 }};
    --search-filters-enabled: {{ settings.show_search_filters | default: true }};
    --search-predictive-enabled: {{ settings.enable_predictive_search | default: true }};
    
    /* Cart Behavior Settings */
    --cart-behavior: {{ settings.cart_behavior | default: 'drawer' }};
    --cart-ajax-enabled: {{ settings.enable_ajax_cart | default: true }};
    --cart-free-shipping-threshold: {{ settings.free_shipping_threshold | default: 7500 }};
    
    /* Performance Settings */
    --animations-enabled: {{ settings.enable_animations | default: true }};
    --hover-effects-enabled: {{ settings.enable_hover_effects | default: true }};
    --lazy-loading-enabled: {{ settings.enable_lazy_loading | default: true }};
  }
  
  /* Cart Settings CSS Variable Updates */
  .cart-drawer,
  .cart-page,
  .mini-cart {
    --cart-background: var(--cart-bg-color);
    --cart-text: var(--cart-text-color);
    --cart-button: var(--cart-button-color);
    --cart-button-hover: var(--cart-button-hover-color);
  }
  
  /* Typography Font Loading */
  @font-face {
    font-family: '{{ settings.type_primary_font.family }}';
    src: url('{{ settings.type_primary_font | font_url }}') format('woff2');
    font-display: swap;
  }
  
  @font-face {
    font-family: '{{ settings.type_secondary_font.family }}';
    src: url('{{ settings.type_secondary_font | font_url }}') format('woff2');
    font-display: swap;
  }
  
  /* Body Typography */
  body {
    font-family: var(--type-primary-font), var(--font-family-primary);
    font-size: var(--font-size-base);
    color: var(--color-text-primary);
    background-color: var(--color-background);
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--type-secondary-font), var(--font-family-secondary);
  }
  
  /* Performance and Animation Controls */
  {% unless settings.enable_animations %}
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  {% endunless %}
  
  {% unless settings.enable_hover_effects %}
  .hover-effect,
  .card:hover,
  .button:hover {
    transform: none !important;
  }
  {% endunless %}
  
  /* Quick Buy Feature Control */
  {% unless settings.enable_quickbuy %}
  .collection__product-quickbuy,
  .product__quickbuy,
  [data-quickbuy] {
    display: none !important;
  }
  {% endunless %}
  
  /* Buy Now Feature Control */
  {% unless settings.enable_buy_now %}
  .product__buy-now-wrapper,
  .product__payment-buttons {
    display: none !important;
  }
  {% endunless %}
</style>